{"version":3,"sources":["./src/app/modules/units/dialog-unit/dialog-unit.component.html","./src/app/modules/units/units.component.html","./src/app/modules/units/dialog-unit/dialog-unit.component.scss","./src/app/modules/units/dialog-unit/dialog-unit.component.ts","./src/app/modules/units/services/units.service.ts","./src/app/modules/units/units.component.scss","./src/app/modules/units/units.component.ts","./src/app/modules/units/units.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,w1C;;;;;;;;;;;;ACAf;AAAe,+vBAAgsB,iBAAiB,OAAO,mTAAmT,wFAAwF,0PAA0P,cAAc,4XAA4X,2FAA2F,2PAA2P,cAAc,qUAAqU,2FAA2F,2PAA2P,cAAc,wUAAwU,2FAA2F,s7BAAs7B,2BAA2B,qG;;;;;;;;;;;;ACAvnI;AAAe,6GAA8C,uL;;;;;;;;;;;;;;;;;;;;ACAH;AACQ;AAET;AACD;AAOxD,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAE9B,YAAmB,SAA2C,EAC5B,IAAU,EAClC,MAAmB,EACnB,UAAsB;QAHb,cAAS,GAAT,SAAS,CAAkC;QAC5B,SAAI,GAAJ,IAAI,CAAM;QAClC,WAAM,GAAN,MAAM,CAAa;QACnB,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IACrC,SAAS;QACP,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IACD,MAAM;QACJ,MAAM,IAAI,GAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YAC9B,IAAI,EAAC,CAAC,EAAE,CAAC;YACT,IAAI,EAAC,CAAC,EAAE,CAAC;YACT,IAAI,EAAC,CAAC,EAAE,CAAC;SACV,CAAC;IACJ,CAAC;CAEF;;YApB8B,8DAAY;4CACtC,oDAAM,SAAC,iEAAe;YACR,oEAAY;YACR,0DAAW;;AALrB,mBAAmB;IAL/B,+DAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,uPAA2C;;KAE5C,CAAC;IAIG,6GAAM,CAAC,iEAAe,CAAC;GAHf,mBAAmB,CAsB/B;AAtB+B;;;;;;;;;;;;;;;;;;;;;ACXW;AACJ;AAEW;AACb;AAErC,MAAM,MAAM,GAAC,EAAE,CAAC;AAGhB,IAAa,YAAY,GAAzB,MAAa,YAAY;IAGvB,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;QAFnC,iBAAY,GAAC,IAAI,oDAAe,CAAU,EAAE,CAAC,CAAC;QAG5C,IAAI,CAAC,OAAO,EAAE,CAAC;IAEjB,CAAC;IACD,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;IAC1C,CAAC;IACD,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAC,OAAO,CAAC,CAAC,SAAS,CACrC,CAAC,GAAO,EAAC,EAAE,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CACvC;IACH,CAAC;IACD,MAAM,CAAC,IAAU;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,OAAO,EAAC,IAAI,CAAC,CAAC,IAAI,CAC9C,0DAAG,CACD,CAAC,GAAO,EAAC,EAAE;YACT,MAAM,EAAC,KAAK,EAAC,GAAC,IAAI,CAAC,YAAY;YAC/B,MAAM,KAAK,GAAC,KAAK,CAAC,SAAS,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,IAAI,CAAC,EAAE,CAAC;YAC7C,MAAM,OAAO,GAAC,CAAC,GAAG,KAAK,CAAC;YACxB,OAAO,CAAC,KAAK,CAAC,GAAC,IAAI;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC;QACjC,CAAC,CACF,CACF;IACH,CAAC;IACD,GAAG,CAAC,IAAU;QACZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,OAAO,EAAC,IAAI,CAAC,CAAC,SAAS,CAC3C,CAAC,GAAO,EAAC,EAAE;YACT,MAAM,OAAO,GAAC,CAAC,GAAG,EAAC,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC/C;gBACE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC;aAChC;QACH,CAAC,CACF;IACH,CAAC;IACD,MAAM,CAAC,EAAS;QACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,QAAQ,GAAC,EAAE,CAAC,CAAC,SAAS,CAC5C,CAAC,GAAO,EAAC,EAAE;YACT,MAAM,EAAC,KAAK,EAAC,GAAC,IAAI,CAAC,YAAY,CAAC;YAChC,MAAM,OAAO,GAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,IAAE,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClC,CAAC,CACF;IACH,CAAC;CACF;;YA5C0B,+DAAU;;AAHxB,YAAY;IADxB,gEAAU,EAAE;GACA,YAAY,CA+CxB;AA/CwB;;;;;;;;;;;;;ACTzB;AAAe,uEAAQ,gBAAgB,GAAG,aAAa,iBAAiB,iBAAiB,gBAAgB,8BAA8B,iBAAiB,GAAG,6CAA6C,+9B;;;;;;;;;;;;;;;;;;;;;ACAtJ;AACM;AAE0B;AACpC;AAC4B;AAO1E,IAAa,cAAc,GAA3B,MAAa,cAAc;IAEzB,YAAoB,OAAqB,EAAS,MAAgB,EAAU,OAA6B;QAArF,YAAO,GAAP,OAAO,CAAc;QAAS,WAAM,GAAN,MAAM,CAAU;QAAU,YAAO,GAAP,OAAO,CAAsB;QADzG,qBAAgB,GAAa,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,CAAC;QAE3E,SAAI,GAAY,IAAI,CAAC;QACrB,cAAS,GAAG,IAAI,CAAC;QACjB,gBAAW,GAAU,IAAI,CAAC;QAC1B,YAAO,GAAU,IAAI,CAAC;IAJuF,CAAC;IAK9G,UAAU;QACR,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sFAAmB,EAAE;YACtD,KAAK,EAAE,OAAO;YACd,MAAM,EAAC,OAAO;YACd,IAAI,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;SAC1B,CAAC,CAAC;IACL,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;IAClD,CAAC;IACD,UAAU,CAAC,KAAa,EAAE,IAAW;QACnC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,OAAO,qBAAQ,IAAI,CAAE,CAAC;IAC7B,CAAC;IACD,UAAU;QACR,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAC7C,CAAC,GAAE,KAAI,CAAC,WAAW,GAAC,IAAI,CAAC,SAAS,GAAC,IAAI,CACxC;IACH,CAAC;IACD,UAAU;QACR,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC3C,CAAC;IACD,UAAU,CAAC,EAAU;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YAC3B,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;aACzB;QACH,CAAC,CACF;IACH,CAAC;CACF;;YAvC8B,oEAAY;YAAgB,2DAAS;YAAmB,yFAAoB;;AAF9F,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,+NAAqC;;KAEtC,CAAC;GACW,cAAc,CAyC1B;AAzC0B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AACM;AACI;AACI;AACiF;AACtE;AACV;AACA;AACN;AACwB;AAE1E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B;CACF;AAsBD,IAAa,WAAW,GAAxB,MAAa,WAAW;CAAI;AAAf,WAAW;IApBvB,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,+DAAc,EAAE,uFAAmB,CAAC;QACnD,OAAO,EAAE;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,iEAAe;YACf,gEAAc;YACd,gEAAc;YACd,+DAAa;YACb,oEAAkB;YAClB,0DAAW;YACX,kEAAmB;YACnB,qEAAgB;YAChB,iEAAe;YACf,yDAAS;SACV;QACD,SAAS,EAAC,CAAC,oEAAY,CAAC;QACxB,eAAe,EAAC,CAAC,uFAAmB,CAAC;KAEtC,CAAC;GACW,WAAW,CAAI;AAAJ","file":"modules-units-units-module-es2015.js","sourcesContent":["export default \"<form class=\\\"example-form\\\" [formGroup]=\\\"form\\\">\\r\\n    <h1 mat-dialog-title>Đơn vị tính</h1>\\r\\n    <div mat-dialog-content>\\r\\n        <div class=\\\"content\\\" fxLayout=\\\"row\\\" fxLayout.xs=\\\"column\\\" fxFlexFill>\\r\\n            <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n\\r\\n                <mat-form-field>\\r\\n                    <mat-label>Tên đơn vị tính</mat-label>\\r\\n                    <input matInput formControlName=\\\"code\\\" placeholder=\\\"Tấn\\\">\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n                <mat-form-field>\\r\\n                    <mat-label>Mã đơn vị</mat-label>\\r\\n                    <input matInput formControlName=\\\"name\\\" placeholder=\\\"01\\\">\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n                <mat-form-field>\\r\\n                    <mat-label>Kí hiệu</mat-label>\\r\\n                    <input matInput formControlName=\\\"sign\\\" placeholder=\\\"t\\\">\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div mat-dialog-actions>\\r\\n        <button mat-button (click)=\\\"onNoClick()\\\">Hủy</button>\\r\\n        <button mat-button (click)=\\\"submit()\\\">Thêm</button>\\r\\n    </div>\\r\\n</form>\"","export default \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n        <button id=\\\"addNew\\\" mat-raised-button (click)=\\\"openDialog()\\\">Thêm mới</button>\\r\\n        <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-header card-header-primary\\\">\\r\\n                <h4 class=\\\"card-title\\\">Đơn vị tính</h4>\\r\\n            </div>\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <table mat-table [dataSource]=\\\"unit\\\" class=\\\"mat-elevation-z8\\\">\\r\\n                    <!-- Position Column -->\\r\\n                    <ng-container matColumnDef=\\\"position\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef> No. </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element; index as i\\\"> {{i + 1}} </td>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <!-- Code Column -->\\r\\n                    <ng-container matColumnDef=\\\"code\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef> Mã đơn vị tính </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element;index as index\\\">\\r\\n                            <ng-container *ngIf=\\\"index==editIndex;else editInput\\\">\\r\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.code\\\" />\\r\\n                            </ng-container>\\r\\n                            <ng-template #editInput>\\r\\n                                {{element.code}}\\r\\n                            </ng-template>\\r\\n                        </td>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <!-- Name Column -->\\r\\n                    <ng-container matColumnDef=\\\"name\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef> Tên đơn vị tính</th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                            <ng-container *ngIf=\\\"index == editIndex; else editInput\\\">\\r\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.name\\\" />\\r\\n                            </ng-container>\\r\\n                            <ng-template #editInput>\\r\\n                                {{element.name}}\\r\\n                            </ng-template>\\r\\n                        </td>\\r\\n                    </ng-container>\\r\\n                    <ng-container matColumnDef=\\\"sign\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef> Kí hiệu </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                            <ng-container *ngIf=\\\"index == editIndex; else editInput\\\">\\r\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.sign\\\" />\\r\\n                            </ng-container>\\r\\n                            <ng-template #editInput>\\r\\n                                {{element.sign}}\\r\\n                            </ng-template>\\r\\n                        </td>\\r\\n                    </ng-container>\\r\\n                    <ng-container matColumnDef=\\\"action\\\">\\r\\n                        <th mat-header-cell *matHeaderCellDef> Thao tác </th>\\r\\n                        <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                            <ng-container *ngIf=\\\"index == editIndex; else acceptButton\\\">\\r\\n                                <button mat-raised-button (click)=\\\"updateUnit()\\\">Xác nhận</button>\\r\\n                                <button mat-raised-button (click)=\\\"cancelEdit()\\\">Hủy</button>\\r\\n                            </ng-container>\\r\\n                            <ng-template #acceptButton>\\r\\n                                <ng-container *ngIf=\\\"editIndex == null\\\">\\r\\n                                    <button mat-raised-button (click)=\\\"toggleEdit(index, element)\\\">Sửa</button>\\r\\n                                    <button mat-raised-button (click)=\\\"deleteUnit(element.id)\\\">Xóa</button>\\r\\n                                </ng-container>\\r\\n                            </ng-template>\\r\\n                        </td>\\r\\n                    </ng-container>\\r\\n                    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n                    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJBZG1pbi9zcmMvYXBwL21vZHVsZXMvdW5pdHMvZGlhbG9nLXVuaXQvZGlhbG9nLXVuaXQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { Units } from '../../../models/units';\r\nimport { UnitsService } from '../services/units.service';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-dialog-unit',\r\n  templateUrl: './dialog-unit.component.html',\r\n  styleUrls: ['./dialog-unit.component.scss']\r\n})\r\nexport class DialogUnitComponent implements OnInit {\r\n  form:FormGroup;\r\n  constructor(public dialogRef:MatDialogRef<DialogUnitComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data:Units,\r\n    private unitSv:UnitsService,\r\n    private formBuider:FormBuilder) { }\r\n  onNoClick(){\r\n    this.dialogRef.close();\r\n  }\r\n  submit(){\r\n    const unit:Units=this.form.value;\r\n    this.unitSv.add(unit);\r\n    this.dialogRef.close();\r\n  }\r\n  ngOnInit() {\r\n    this.form=this.formBuider.group({\r\n      code:[''],\r\n      name:[''],\r\n      sign:['']\r\n    })\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Units } from '../../../models/units';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nconst DOMAIN=\"\";\r\n\r\n@Injectable()\r\nexport class UnitsService {\r\n  unitsSubject=new BehaviorSubject<Units[]>([]);\r\n\r\n  constructor(private http:HttpClient) {\r\n    this.getList();\r\n  \r\n  }\r\n  get unit$(){\r\n    return this.unitsSubject.asObservable();\r\n  }\r\n  getList(){\r\n    this.http.get(DOMAIN+\"units\").subscribe(\r\n      (res:any)=>this.unitsSubject.next(res)\r\n    )\r\n  }\r\n  update(unit:Units){\r\n    return this.http.patch(DOMAIN+\"units\",unit).pipe(\r\n      tap(\r\n        (res:any)=>{\r\n          const {value}=this.unitsSubject\r\n          const index=value.findIndex(e=>e.id==unit.id)\r\n          const newList=[...value]\r\n          newList[index]=unit\r\n          this.unitsSubject.next(newList)\r\n        }\r\n      )\r\n    )\r\n  }\r\n  add(unit:Units){\r\n    this.http.post(DOMAIN+\"units\",unit).subscribe(\r\n      (res:any)=>{\r\n        const newList=[res,...this.unitsSubject.value];\r\n        {\r\n          this.unitsSubject.next(newList)\r\n        }\r\n      }\r\n    )\r\n  }\r\n  delete(id:number){\r\n    this.http.delete(DOMAIN+\"units/\"+id).subscribe(\r\n      (res:any)=>{\r\n        const {value}=this.unitsSubject;\r\n        const newList=value.filter(e=>e.id!=id);\r\n        this.unitsSubject.next(newList);\r\n      }\r\n    )\r\n  }\r\n}\r\n","export default \"table {\\n  width: 100%;\\n}\\n\\n#addNew {\\n  width: 300px;\\n  height: 50px;\\n  margin: 5px;\\n  background-color: #2020cf;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkbWluL3NyYy9hcHAvbW9kdWxlcy91bml0cy9DOlxcVXNlcnNcXEtJTkdcXERlc2t0b3BcXEVjb25vbWljLVN0YXRpc3RpY1xcZS1zdGF0aXN0aWNzXFxVSVxccHJvamVjdHMvQWRtaW5cXHNyY1xcYXBwXFxtb2R1bGVzXFx1bml0c1xcdW5pdHMuY29tcG9uZW50LnNjc3MiLCJBZG1pbi9zcmMvYXBwL21vZHVsZXMvdW5pdHMvdW5pdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FEQ0E7RUFDSSxZQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUNFSiIsImZpbGUiOiJBZG1pbi9zcmMvYXBwL21vZHVsZXMvdW5pdHMvdW5pdHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZXtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbiNhZGROZXd7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBtYXJnaW46NXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDMyLCAzMiwgMjA3KTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbiNhZGROZXcge1xuICB3aWR0aDogMzAwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgbWFyZ2luOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyMDIwY2Y7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UnitsService } from './services/units.service';\r\nimport { Units } from '../../models/units';\r\nimport { ConfirmDialogService } from '../../@lib/services/confirm-dialog.service';\r\nimport { MatDialog } from '@angular/material';\r\nimport { DialogUnitComponent } from './dialog-unit/dialog-unit.component';\r\n\r\n@Component({\r\n  selector: 'app-units',\r\n  templateUrl: './units.component.html',\r\n  styleUrls: ['./units.component.scss']\r\n})\r\nexport class UnitsComponent implements OnInit {\r\n  displayedColumns: string[] = [\"position\", \"code\", \"name\", \"sign\", \"action\"]\r\n  constructor(private unitsSv: UnitsService,private dialog:MatDialog, private confirm: ConfirmDialogService) { }\r\n  unit: Units[] = null;\r\n  editIndex = null;\r\n  currentUnit: Units = null;\r\n  oldUnit: Units = null;\r\n  openDialog(): void {\r\n    const dialogRef = this.dialog.open(DialogUnitComponent, {\r\n      width: '750px',\r\n      height:'200px',\r\n      data: { unit: this.unit }\r\n    });\r\n  }\r\n  ngOnInit() {\r\n    this.unitsSv.unit$.subscribe(l => this.unit = l)\r\n  }\r\n  toggleEdit(index: number, unit: Units) {\r\n    this.editIndex = index;\r\n    this.currentUnit = unit;\r\n    this.oldUnit = { ...unit };\r\n  }\r\n  updateUnit() {\r\n    this.unitsSv.update(this.currentUnit).subscribe(\r\n      _=>this.currentUnit=this.editIndex=null\r\n    )\r\n  }\r\n  cancelEdit() {\r\n    this.currentUnit.code = this.oldUnit.code;\r\n    this.currentUnit.name = this.oldUnit.name;\r\n    this.currentUnit.sign = this.oldUnit.sign;\r\n    this.editIndex = this.currentUnit = null;\r\n  }\r\n  deleteUnit(id: number) {\r\n    this.confirm.show().then(res => {\r\n        if (res) {\r\n          this.unitsSv.delete(id);\r\n        }\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UnitsComponent } from './units.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MatSelectModule, MatInputModule, MatTableModule, MatTabsModule, MatFormFieldModule, MatButtonModule } from '@angular/material';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { UnitsService } from './services/units.service';\r\nimport { LibModule } from '../../@lib/lib.module';\r\nimport { DialogUnitComponent } from './dialog-unit/dialog-unit.component';\r\n\r\nconst ROUTES: Routes = [\r\n  {\r\n    path: '',\r\n    component: UnitsComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [UnitsComponent, DialogUnitComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ROUTES),\r\n    MatSelectModule,\r\n    MatInputModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    MatButtonModule,\r\n    LibModule\r\n  ],\r\n  providers:[UnitsService],\r\n  entryComponents:[DialogUnitComponent]\r\n\r\n})\r\nexport class UnitsModule { }\r\n"],"sourceRoot":"webpack:///"}