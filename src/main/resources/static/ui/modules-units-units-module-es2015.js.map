{"version":3,"sources":["./src/app/modules/units/dialog-unit/dialog-unit.component.html","./src/app/modules/units/units.component.html","./src/app/@lib/components/confirm/confirm.component.ts","./src/app/@lib/lib.module.ts","./src/app/@lib/services/confirm-dialog.service.ts","./src/app/modules/units/dialog-unit/dialog-unit.component.scss","./src/app/modules/units/dialog-unit/dialog-unit.component.ts","./src/app/modules/units/services/units.service.ts","./src/app/modules/units/units.component.scss","./src/app/modules/units/units.component.ts","./src/app/modules/units/units.module.ts"],"names":[],"mappings":"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","file":"modules-units-units-module-es2015.js","sourcesContent":["export default \"<h1 mat-dialog-title>Thêm mới đơn vị tính</h1>\\r\\n<div mat-dialog-content>\\r\\n    <div [formGroup]=\\\"form\\\">\\r\\n        <div formArrayName=\\\"units\\\" *ngFor=\\\"let control of UnitsControl.controls; index as i\\\">\\r\\n            <form [formGroupName]=\\\"i\\\">\\r\\n                <div class=\\\"content\\\" fxLayout=\\\"row\\\" fxLayout.xs=\\\"column\\\" fxFlexFill>\\r\\n                    <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n                        <mat-form-field>\\r\\n                            <mat-label>Tên đơn vị tính</mat-label>\\r\\n                            <input matInput formControlName=\\\"name\\\" placeholder=\\\"Tấn\\\">\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div fxFlex=\\\"5\\\" fxFlex.xs=\\\"5\\\"></div>\\r\\n                    <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n                        <mat-form-field>\\r\\n                            <mat-label>Mã đơn vị</mat-label>\\r\\n                            <input matInput formControlName=\\\"code\\\" placeholder=\\\"01\\\">\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                    <div fxFlex=\\\"5\\\" fxFlex.xs=\\\"5\\\"></div>\\r\\n                    <div fxFlex=\\\"30\\\" fxFlex.xs=\\\"30\\\">\\r\\n                        <mat-form-field>\\r\\n                            <mat-label>Kí hiệu</mat-label>\\r\\n                            <input matInput formControlName=\\\"sign\\\" placeholder=\\\"t\\\">\\r\\n                        </mat-form-field>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<button mat-raised-button color=\\\"primary\\\" (click)=\\\"addMore()\\\">Thêm nhiều</button>\\r\\n<div mat-dialog-actions>\\r\\n    <button mat-raised-button (click)=\\\"onNoClick()\\\">Hủy</button>\\r\\n    <button mat-raised-button (click)=\\\"submit()\\\">Xác nhận</button>\\r\\n</div>\"","export default \"<button id=\\\"addNew\\\" mat-raised-button (click)=\\\"openDialog()\\\">Thêm mới</button>\\r\\n<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header card-header-primary\\\">\\r\\n        <h4 class=\\\"card-title\\\">Đơn vị tính</h4>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n        <table mat-table [dataSource]=\\\"showUnit\\\" class=\\\"mat-elevation-z8\\\">\\r\\n            <!-- Position Column -->\\r\\n            <ng-container matColumnDef=\\\"position\\\">\\r\\n                <th mat-header-cell *matHeaderCellDef> No. </th>\\r\\n                <td mat-cell *matCellDef=\\\"let element; index as i\\\"> {{i + 1}} </td>\\r\\n            </ng-container>\\r\\n\\r\\n            <!-- Code Column -->\\r\\n            <ng-container matColumnDef=\\\"code\\\">\\r\\n                <th mat-header-cell *matHeaderCellDef> Mã đơn vị tính </th>\\r\\n                <td mat-cell *matCellDef=\\\"let element;index as index\\\">\\r\\n                    <ng-container *ngIf=\\\"index==editIndex;else editInput\\\">\\r\\n                        <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.code\\\" />\\r\\n                    </ng-container>\\r\\n                    <ng-template #editInput>\\r\\n                        {{element.code}}\\r\\n                    </ng-template>\\r\\n                </td>\\r\\n            </ng-container>\\r\\n\\r\\n            <!-- Name Column -->\\r\\n            <ng-container matColumnDef=\\\"name\\\">\\r\\n                <th mat-header-cell *matHeaderCellDef> Tên đơn vị tính</th>\\r\\n                <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                    <ng-container *ngIf=\\\"index == editIndex; else editInput\\\">\\r\\n                        <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.name\\\" />\\r\\n                    </ng-container>\\r\\n                    <ng-template #editInput>\\r\\n                        {{element.name}}\\r\\n                    </ng-template>\\r\\n                </td>\\r\\n            </ng-container>\\r\\n            <ng-container matColumnDef=\\\"sign\\\">\\r\\n                <th mat-header-cell *matHeaderCellDef> Kí hiệu </th>\\r\\n                <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                    <ng-container *ngIf=\\\"index == editIndex; else editInput\\\">\\r\\n                        <input type=\\\"text\\\" [(ngModel)]=\\\"currentUnit.sign\\\" />\\r\\n                    </ng-container>\\r\\n                    <ng-template #editInput>\\r\\n                        {{element.sign}}\\r\\n                    </ng-template>\\r\\n                </td>\\r\\n            </ng-container>\\r\\n            <ng-container matColumnDef=\\\"action\\\">\\r\\n                <th mat-header-cell *matHeaderCellDef> Thao tác </th>\\r\\n                <td mat-cell *matCellDef=\\\"let element; index as index\\\">\\r\\n                    <ng-container *ngIf=\\\"index == editIndex; else acceptButton\\\">\\r\\n                        <button mat-raised-button (click)=\\\"updateUnit()\\\">Xác nhận</button>\\r\\n                        <button mat-raised-button (click)=\\\"cancelEdit()\\\">Hủy</button>\\r\\n                    </ng-container>\\r\\n                    <ng-template #acceptButton>\\r\\n                        <ng-container *ngIf=\\\"editIndex == null\\\">\\r\\n                            <button mat-raised-button (click)=\\\"toggleEdit(index, element)\\\">Sửa</button>\\r\\n                            <button mat-raised-button (click)=\\\"deleteUnit(element.id)\\\">Xóa</button>\\r\\n                        </ng-container>\\r\\n                    </ng-template>\\r\\n                </td>\\r\\n            </ng-container>\\r\\n            <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n            <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n        </table>\\r\\n        <mat-paginator [length]=\\\"unit.length\\\" [pageSize]=\\\"pageSize\\\" [pageSizeOptions]=\\\"pageSizeOptions\\\"\\r\\n            (page)=\\\"onChangePage($event)\\\">\\r\\n        </mat-paginator>\\r\\n    </div>\\r\\n</div>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'app-confirm',\r\n  template: `\r\n    <p>\r\n      {{ data.message }}\r\n    </p>\r\n\r\n    <div>\r\n      <button mat-button (click)=\"confirm()\">Có</button>\r\n\r\n      <button mat-button (click)=\"onNoClick()\" >Hủy</button>\r\n    </div>\r\n  `,\r\n  styles: []\r\n})\r\nexport class ConfirmComponent {\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, private dialogRef: MatDialogRef<ConfirmComponent>) { }\r\n\r\n  confirm() {\r\n    this.dialogRef.close(true)\r\n  }\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConfirmComponent } from './components/confirm/confirm.component';\r\nimport { ConfirmDialogService } from './services/confirm-dialog.service';\r\nimport { MatButtonModule, MatDialogModule } from '@angular/material';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ConfirmComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatDialogModule\r\n  ],\r\n  providers: [\r\n    ConfirmDialogService\r\n  ],\r\n  entryComponents: [\r\n    ConfirmComponent\r\n  ]\r\n})\r\nexport class LibModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { MatDialog } from '@angular/material';\r\nimport { ConfirmComponent } from '../components/confirm/confirm.component';\r\n\r\n@Injectable()\r\nexport class ConfirmDialogService {\r\n\r\n  constructor(private dialog: MatDialog) { }\r\n\r\n  async show(message = \"Xác nhận\"): Promise<boolean> {\r\n    let dialogRef = this.dialog.open(ConfirmComponent, {\r\n      data: { message },\r\n    })\r\n\r\n    const result: boolean  = await dialogRef.afterClosed().toPromise();\r\n\r\n    return new Promise(\r\n      (res, rej) => {\r\n        if (result) {\r\n          res(true)\r\n          \r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","export default \"button {\\n  margin: 0.5rem;\\n}\\n\\nform > * {\\n  margin: 5px 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL0FkbWluL3NyYy9hcHAvbW9kdWxlcy91bml0cy9kaWFsb2ctdW5pdC9DOlxcVXNlcnNcXEtJTkdcXERlc2t0b3BcXEVjb25vbWljLVN0YXRpc3RpY1xcZS1zdGF0aXN0aWNzXFxVSS9wcm9qZWN0c1xcQWRtaW5cXHNyY1xcYXBwXFxtb2R1bGVzXFx1bml0c1xcZGlhbG9nLXVuaXRcXGRpYWxvZy11bml0LmNvbXBvbmVudC5zY3NzIiwicHJvamVjdHMvQWRtaW4vc3JjL2FwcC9tb2R1bGVzL3VuaXRzL2RpYWxvZy11bml0L2RpYWxvZy11bml0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtBQ0NKOztBRENBO0VBQ0ksYUFBQTtBQ0VKIiwiZmlsZSI6InByb2plY3RzL0FkbWluL3NyYy9hcHAvbW9kdWxlcy91bml0cy9kaWFsb2ctdW5pdC9kaWFsb2ctdW5pdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbntcclxuICAgIG1hcmdpbjogMC41cmVtO1xyXG59XHJcbmZvcm0gPiAqIHtcclxuICAgIG1hcmdpbjogNXB4IDA7XHJcbiAgfSIsImJ1dHRvbiB7XG4gIG1hcmdpbjogMC41cmVtO1xufVxuXG5mb3JtID4gKiB7XG4gIG1hcmdpbjogNXB4IDA7XG59Il19 */\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { Units } from '../../../models/units';\r\nimport { UnitsService } from '../services/units.service';\r\nimport { FormBuilder, FormGroup, FormArray } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-dialog-unit',\r\n  templateUrl: './dialog-unit.component.html',\r\n  styleUrls: ['./dialog-unit.component.scss']\r\n})\r\nexport class DialogUnitComponent implements OnInit {\r\n  form: FormGroup;\r\n  constructor(public dialogRef: MatDialogRef<DialogUnitComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: Units,\r\n    private unitSv: UnitsService,\r\n    private formBuider: FormBuilder) { }\r\n  onNoClick() {\r\n    this.dialogRef.close();\r\n  }\r\n  submit() {\r\n    const {units} = this.form.value;\r\n    this.unitSv.add(units);\r\n    this.dialogRef.close();\r\n  }\r\n  ngOnInit() {\r\n    this.form = this.formBuider.group({\r\n      units: this.formBuider.array([])\r\n\r\n    })\r\n    this.addMore();\r\n  }\r\n  get UnitsControl() {\r\n    return this.form.controls.units as FormArray\r\n  }\r\n\r\n  addMore() {\r\n    this.UnitsControl.push(this.formBuider.group({\r\n      name: [''],\r\n      code: [''],\r\n      sign: ['']\r\n    }))\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Units } from '../../../models/units';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn:\"root\"\r\n})\r\nexport class UnitsService {\r\n  unitsSubject = new BehaviorSubject<Units[]>([]);\r\n\r\n  constructor(private http: HttpClient) {\r\n    this.getList();\r\n\r\n  }\r\n  get unit$() {\r\n    return this.unitsSubject.asObservable();\r\n  }\r\n  getList() {\r\n    this.http.get(\"units\").subscribe(\r\n      (res: any) => this.unitsSubject.next(res)\r\n    )\r\n  }\r\n  update(unit: Units) {\r\n    return this.http.patch(\"units\", unit).pipe(\r\n      tap(\r\n        (res: any) => {\r\n          const { value } = this.unitsSubject\r\n          const index = value.findIndex(e => e.id == unit.id)\r\n          const newList = [...value]\r\n          newList[index] = unit\r\n          this.unitsSubject.next(newList)\r\n        }\r\n      )\r\n    )\r\n  }\r\n  add(unit: Units[]) {\r\n    this.http.post(\"units\", unit).subscribe(\r\n      (res: any) => {\r\n        res.map(\r\n          e => {\r\n            const newList = [e, ...this.unitsSubject.value];\r\n            this.unitsSubject.next(newList)\r\n          }\r\n        )\r\n      }\r\n    )\r\n  }\r\n  delete(id: number) {\r\n    this.http.delete(\"units/\" + id).subscribe(\r\n      (res: any) => {\r\n        const { value } = this.unitsSubject;\r\n        const newList = value.filter(e => e.id != id);\r\n        this.unitsSubject.next(newList);\r\n      }\r\n    )\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9qZWN0cy9BZG1pbi9zcmMvYXBwL21vZHVsZXMvdW5pdHMvdW5pdHMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UnitsService } from './services/units.service';\r\nimport { Units } from '../../models/units';\r\nimport { ConfirmDialogService } from '../../@lib/services/confirm-dialog.service';\r\nimport { MatDialog, PageEvent } from '@angular/material';\r\nimport { DialogUnitComponent } from './dialog-unit/dialog-unit.component';\r\n\r\n@Component({\r\n  selector: 'app-units',\r\n  templateUrl: './units.component.html',\r\n  styleUrls: ['./units.component.scss']\r\n})\r\nexport class UnitsComponent implements OnInit {\r\n  displayedColumns: string[] = [\"position\", \"code\", \"name\", \"sign\", \"action\"]\r\n  constructor(private unitsSv: UnitsService,private dialog:MatDialog, private confirm: ConfirmDialogService) { }\r\n  unit: Units[] = null;\r\n  showUnit:Units[]=null;\r\n  editIndex = null;\r\n  currentUnit: Units = null;\r\n  oldUnit: Units = null;\r\n  \r\n  pageSize = 5\r\n  pageSizeOptions = [2, 5, 10, 25]\r\n  pageEvent: PageEvent\r\n  length = 1000\r\n\r\n  openDialog(): void {\r\n    const dialogRef = this.dialog.open(DialogUnitComponent, {\r\n      data: { unit: this.unit }\r\n    });\r\n  }\r\n  ngOnInit() {\r\n    this.unitsSv.unit$.subscribe(l =>{ this.unit = l\r\n      const {pageSize,} =this\r\n      this.onChangePage({\r\n        length:this.unit.length,\r\n        pageSize,\r\n        pageIndex:0,\r\n        previousPageIndex:null\r\n      })\r\n    })\r\n  }\r\n  onChangePage({\r\n    length,pageIndex,pageSize,previousPageIndex\r\n  }){\r\n    this.showUnit=[...this.unit].slice(pageIndex*pageSize,pageIndex  * pageSize + pageSize)\r\n  }\r\n  toggleEdit(index: number, unit: Units) {\r\n    this.editIndex = index;\r\n    this.currentUnit = unit;\r\n    this.oldUnit = { ...unit };\r\n  }\r\n  updateUnit() {\r\n    this.unitsSv.update(this.currentUnit).subscribe(\r\n      _=>this.currentUnit=this.editIndex=null\r\n    )\r\n  }\r\n  cancelEdit() {\r\n    this.currentUnit.code = this.oldUnit.code;\r\n    this.currentUnit.name = this.oldUnit.name;\r\n    this.currentUnit.sign = this.oldUnit.sign;\r\n    this.editIndex = this.currentUnit = null;\r\n  }\r\n  deleteUnit(id: number) {\r\n    this.confirm.show().then(res => {\r\n        if (res) {\r\n          this.unitsSv.delete(id);\r\n        }\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UnitsComponent } from './units.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MatSelectModule, MatInputModule, MatTableModule, MatTabsModule, MatFormFieldModule, MatButtonModule, MatDialogModule, MatPaginatorModule } from '@angular/material';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { UnitsService } from './services/units.service';\r\nimport { LibModule } from '../../@lib/lib.module';\r\nimport { DialogUnitComponent } from './dialog-unit/dialog-unit.component';\r\n\r\nconst ROUTES: Routes = [\r\n  {\r\n    path: '',\r\n    component: UnitsComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [UnitsComponent, DialogUnitComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ROUTES),\r\n    MatSelectModule,\r\n    MatInputModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    MatButtonModule,\r\n    LibModule,\r\n    MatDialogModule,\r\n    MatPaginatorModule\r\n  ],\r\n  providers:[UnitsService],\r\n  entryComponents:[DialogUnitComponent]\r\n\r\n})\r\nexport class UnitsModule { }\r\n"],"sourceRoot":"webpack:///"}