{"version":3,"sources":["src/app/modules/quan-huyen/services/quan-huyen.service.ts","src/app/modules/type-data/services/type-data.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, forkJoin } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\nimport { District } from '../../../models/district';\r\n\r\n@Injectable({\r\n  providedIn:\"root\"\r\n})\r\nexport class QuanHuyenService {\r\n  districtsSubject = new BehaviorSubject<District[]>([]);\r\n\r\n  constructor(private httpClient: HttpClient) {\r\n    this.getList();\r\n   }\r\n\r\n  get district$() {\r\n    return this.districtsSubject.asObservable();\r\n  }\r\n\r\n  getList() {\r\n    this.httpClient.get(\"districts\").subscribe(\r\n      (res:any) => this.districtsSubject.next(res)\r\n    )\r\n  }\r\n\r\n  add(districts : District[]) {\r\n    this.httpClient.post(\"districts\", districts).subscribe(\r\n      (res: any) => {\r\n        const newList: District[] = [...res, ...this.districtsSubject.value];\r\n\r\n        this.districtsSubject.next(newList);\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  update(district: District) {\r\n    return this.httpClient.patch(\"districts\", district).pipe(\r\n      tap(\r\n        (r: any) => {\r\n          const {value} = this.districtsSubject\r\n  \r\n          const index = value.findIndex(e => e.id == district.id)\r\n  \r\n          const newList = [...value];\r\n  \r\n          newList[index] = district;\r\n  \r\n          this.districtsSubject.next(newList)\r\n        }\r\n      )\r\n    )\r\n  }\r\n\r\n  delete(id: number) {\r\n    this.httpClient.delete(\"districts/\"+id).subscribe(\r\n      (res:any)=> {\r\n        const { value } = this.districtsSubject\r\n\r\n        const newList = value.filter(e => e.id != id)\r\n\r\n        this.districtsSubject.next(newList)\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { TypeData } from '../../../models/type-data';\r\nimport { tap } from 'rxjs/operators';\r\n@Injectable({\r\n  providedIn:\"root\"\r\n})\r\nexport class TypeDataService {\r\n  typeDataSubject = new BehaviorSubject<TypeData[]>([])\r\n  get typeData$() {\r\n    return this.typeDataSubject.asObservable();\r\n  }\r\n  constructor(private http: HttpClient) {\r\n    this.getList();\r\n  }\r\n\r\n  getList() {\r\n    this.http.get(\"type-data\").subscribe(\r\n      (res: any) => this.typeDataSubject.next(res)\r\n    )\r\n  }\r\n  add(typeData: TypeData[]) {\r\n    this.http.post(\"type-data\", typeData).subscribe(\r\n      (res: any) => {\r\n        res.map(\r\n          e => {\r\n            const newList = [e, ...this.typeDataSubject.value];\r\n            this.typeDataSubject.next(newList)\r\n          }\r\n        )\r\n      }\r\n    )\r\n  }\r\n  update(typeData: TypeData) {\r\n    return this.http.patch(\"type-data\", typeData).pipe(\r\n      tap(\r\n        (res: any) => {\r\n          const { value } = this.typeDataSubject\r\n          const index = value.findIndex(e => e.id == typeData.id)\r\n          const newList = [...value]\r\n          newList[index] = typeData\r\n          this.typeDataSubject.next(newList)\r\n        }\r\n      )\r\n    )\r\n  }\r\n  delete(id: number) {\r\n    this.http.delete(\"type-data/\" + id).subscribe(\r\n      (res: any) => {\r\n        const { value } = this.typeDataSubject\r\n        const newList = value.filter(e => e.id != id)\r\n        this.typeDataSubject.next(newList)\r\n      }\r\n    )\r\n  }\r\n}"],"sourceRoot":"webpack:///","file":"common-es5.js"}